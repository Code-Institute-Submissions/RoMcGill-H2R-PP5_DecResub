{% extends "base.html" %}
{% load static %}

{% block content %}

<div class="space2">
    <h2>{{ brand.brand_name }}</h2>
</div>
    {% if brand.image %}
    <div class="card-deck" style="margin-left: 120px;">
        <div class="card">
    <a href="#">
        <img class="card-img-top" src="{{ brand.image.url }}" alt="{{ brand.name }}" style="height: 200px; width:200px;">
    </a>
    {% else %}
    <a href="#">
        <img class="card-img-top" src="{{ MEDIA_URL }}noimage.png" alt="{{ brand.name }}">
    </a>
    {% endif %}
    <h5 class="card-title">{{ brand.brand_name }}</h5>



       {% if brand.description %}

        <p class="card-text">{{ brand.description }}

    {% else %}

       <p class="card-text">No description</p>

    {% endif %}

  </div>
</div>
</div>
<div class="space">
  <h2>Products</h2>
  <p> by {{ brand.brand_name }}</p>

{% for product in brand_products %}
{% if product.image %}
    <div class="card-deck" style="margin-left: 50px; max-width: 80%; padding-top: 15px;">
        <div class="card">

        <img class="card-img-top" src="{{ product.image.url }}" alt="{{ brand.name }}" style="height: 200px; width:200px; margin: 0 auto;">

{% else %}

        <img class="card-img-top" src="{{ MEDIA_URL }}noimage.png" alt="{{ brand.name }}">

{% endif %}
{% if product.Product_name %}
   <a href="#"><h5 class="card-title">{{ product.Product_name }}</h5></a>
{% else %}
   <p class="card-text">No name</p>
{% endif %}
{% if product.description %}
        <p class="card-text">{{ product.description }}</p>
{% else %}
       <p class="card-text">No description</p>
{% endif %}

<ul class="list-group list-group-flush">
{% if product.price %}
    <li class="list-group-item">â‚¬{{ product.price }}</li>
{% else %}
    <li class="list-group-item">POA</li>
{% endif %}
{% if product.size %}
    <li class="list-group-item">{{ product.size }}</li>
{% else %}
    <li class="list-group-item">One size fits all</li>
{% endif %}
{% if product.sku %}
    <li class="list-group-item">SKU:{{ product.sku }}</li>
{% else %}
    <li class="list-group-item">Sku:</li>
{% endif %}
  </ul>
<form action="{% url 'add_to_cart' product.id %}" method="POST">
    {% csrf_token %}
    <div class="form-row">
        <div class="col-12">
            <p class="mt-3">Quantity:</p>
            <div class="form-group w-10">
                <div class="input-group col-12">
                    <div class="input-group-prepend">
                        <button class="decrement-qty btn btn-black rounded-0"
                            data-item_id="{{product.id}}" id="decrement-qty_{{ product_id }}">
                            <p>minus</p>
                        </button>
                    </div>
                    <input class="form-control qty_input"
                    type="number"
                    name="quantity"
                    value="1"
                    min="1"
                    max="99"
                    data-item-id="{{ product.id }}"
                    id="id_qty_{{product_id}}">
                    <div class="input-group-append">
                        <button class="increment-qty btn btn-black rounded-0"
                            data-item_id="{{product.id}}" id="increment-qty_{{ product_id }}">
                            <p>plus</p>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-12">
            <input type="submit" class="btn1" style="border-radius: 5px;" value="add to cart">
        </div>
        <input type="hidden" name="redirect_url" value="{{ request.path }}">
    </div>
</form>
</div>
</div>
{% endfor %}

{% endblock %}